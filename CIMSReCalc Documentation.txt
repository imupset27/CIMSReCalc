1. Main codes are available at this Github repo. This repo has a 'no expiration' Personal Access Token PAT (GITHUB_PAT). In order to clone the repo, it shld be made PUBLIC with the correct PAT credentials.
2. The dockerfile used 


Accounts:

Github impuset @yh
HF lacap_ed @yh
AuthO oer @gmail

Github has PAT enabled.
Auth0 has PAT enabled



WOKRING DOCKERFILE (Latest)

#PUll a docker image from the dockerhub repository. An older version is prefered to have backward compatibility with the packages used on this project

FROM rocker/shiny:4.0.0

# Set the wokring directory inside the docker image that containes shiny server, R with shiny pakcage installed

WORKDIR /srv/shiny-server/app

# update the Linux operating system and install git for cloning the github repository

RUN apt-get update && apt-get install -y git


# install necessary packages as dependecies of the application

RUN install2.r --error \
    shiny \
    auth0 \
    data.table \
    glue \
    readxl \
    zoo \
    dplyr

# Set the arguments that would be store on the RENVIRONMENT and will be pulled from the HF VARIABLES and SECRETS. Any changes made from these arguments should also be updated from the HF account otherwise, there will be a BUILD ERROR on the space account.

ARG GITHUB_PAT
ARG GITHUB_UN
ARG GITHUB_FILE

# Set the Variables and Secrets from R ENVIROMENTS
ENV GITHUB_PAT=${GITHUB_PAT}
ENV GITHUB_UN=${GITHUB_UN}
ENV GITHUB_FILE=${GITHUB_FILE}

# Clone the github repo. 

RUN git clone https://${GITHUB_UN}:${GITHUB_PAT}@github.com/${GITHUB_UN}/${GITHUB_FILE}.git /srv/shiny-server/app

# Set the location of the YAML file for the AUTH0 package to work. This should include the Variables and Secrets from the HF account.

RUN echo "options(auth0_find_config_file = '/srv/shiny-server/app/_auth0.yml')" > /usr/local/lib/R/etc/Rprofile.site

# Initialized the web app listening on port 7860

CMD ["R", "-e", "shiny::runApp('.', host='0.0.0.0', port=7860)"]
